# دليل المدير - نظام إدارة المهام

## نظرة عامة

تم تحديث نظام إدارة المهام ليوفر للمدير صفحتين منفصلتين:

1. **مهامي الموكلة** - لعرض المهام الموكلة للمدير كعضو عادي
2. **إدارة الفرق** - لإدارة الفرق التي يديرها المدير

## كيفية الوصول

عند تسجيل دخول المدير، سيتم توجيهه إلى لوحة تحكم المدير التي تحتوي على خيارين:

### 1. مهامي الموكلة
- **الوصف**: عرض المهام الموكلة للمدير كعضو عادي في الفرق
- **الصلاحيات**: 
  - عرض المهام الموكلة له
  - تحديث حالة المهام
  - فلترة المهام حسب الأولوية والحالة
- **المسار**: `/manager/tasks`

### 2. إدارة الفرق
- **الوصف**: إدارة الفرق التي يديرها المدير
- **الصلاحيات**:
  - عرض تفاصيل الفريق
  - تعديل معلومات الفريق
  - إضافة/إزالة أعضاء
  - إدارة مهام الفريق (إضافة، تعديل، حذف)

## إدارة مهام الفريق

### عرض مهام الفريق
1. انتقل إلى "إدارة الفرق"
2. اختر الفريق المطلوب
3. اضغط على "إدارة مهام الفريق"
4. ستظهر جميع مهام الفريق مع إمكانية الفلترة

### إضافة مهمة جديدة
1. من صفحة مهام الفريق، اضغط على "إضافة مهمة جديدة"
2. املأ البيانات المطلوبة:
   - عنوان المهمة
   - وصف المهمة
   - الحالة (قيد الانتظار، قيد التنفيذ، مكتملة، ملغاة)
   - الأولوية (عالية، متوسطة، منخفضة)
   - توكيل المهمة إلى عضو معين
   - تاريخ التسليم (اختياري)

### تعديل مهمة
1. من صفحة مهام الفريق، اضغط على "تعديل" بجانب المهمة المطلوبة
2. قم بتعديل البيانات المطلوبة
3. اضغط على "تحديث المهمة"

### حذف مهمة
1. من صفحة مهام الفريق، اضغط على "حذف" بجانب المهمة المطلوبة
2. أكد الحذف

## إدارة أعضاء الفريق

### تعديل معلومات الفريق
1. من صفحة تفاصيل الفريق، اضغط على "تعديل الفريق"
2. يمكنك:
   - تغيير اسم الفريق
   - تغيير مدير الفريق
   - إضافة/إزالة أعضاء

## الميزات الجديدة

### فلترة المهام
- فلترة حسب الأولوية (عالية، متوسطة، منخفضة)
- فلترة حسب الحالة (قيد الانتظار، قيد التنفيذ، مكتملة، ملغاة)

### عرض إحصائيات
- عدد أعضاء كل فريق
- عدد مهام كل فريق
- المهام الأخيرة في كل فريق

### واجهة محسنة
- تصميم واضح ومفهوم
- ألوان مميزة لكل نوع من الصفحات
- رسائل تأكيد للعمليات المهمة

## ملاحظات مهمة

1. المدير يمكنه فقط إدارة الفرق التي هو مديرها
2. المدير يمكنه فقط تعديل المهام في الفرق التي يديرها
3. المدير يمكنه رؤية مهامه الموكلة له كعضو عادي
4. جميع العمليات محمية بصلاحيات مناسبة

## استكشاف الأخطاء

### إذا لم تظهر الفرق
- تأكد من أن المستخدم له دور "manager"
- تأكد من أن المستخدم مرتبط بالفرق كمدير

### إذا لم تظهر المهام
- تأكد من وجود مهام في الفريق
- تحقق من صلاحيات الوصول

### إذا لم تعمل الروابط
- تأكد من تحديث الكاش: `php artisan config:clear`
- تأكد من تحديث المسارات: `php artisan route:clear` 